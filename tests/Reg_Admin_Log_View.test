<?php
/**
* This unit test tests out the main reg class.
*/
class Reg_Admin_Log_View_UnitTest extends DrupalTestCase {

	/**
	* Implementation of get_info() for information
	*/
	function get_info() {
		return array(
			"name" => t("reg_admin_log_view class"),
			"desc" => t("Test out the reg_admin_log_view class"),
			"group" => t("Registration System"),
			);
	}


	function testLogTrans() {

		$data = array();
		$data["badge_cost"] = 12;
		$data["donation"] = 34;
		$output = $this->reg_log->log_trans($data);
		$this->assertNotNull($output);
		$log_id = $output;
		$total = $data["badge_cost"] + $data["donation"];
		$this->assertEqual($total, $data["total_cost"]);

		$output = $this->reg_admin_log_view->trans_detail($log_id);
		$this->assertNotNull($output);

		$output = $this->reg_admin_log_view->trans_recent();
		$this->assertNotNull($output);

	} // End of testLogTrans()


	function setUp() {
		$this->factory = new reg_factory();
		$this->reg = $this->factory->get_object("reg");
		$this->reg_member = $this->factory->get_object("member");
		$this->reg_admin_member = $this->factory->get_object("admin_member");
		$this->reg_log = $this->factory->get_object("log");
		$this->reg_admin_log_view = $this->factory->get_object("admin_log_view");
	}


	function tearDown() {
	}


} // End of Reg_Admin_Member_UnitTest class


